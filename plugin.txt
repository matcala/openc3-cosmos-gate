VARIABLE _target_name    GATE
VARIABLE cmd_port        6200                       # Dest port for UDP commands
VARIABLE tlm_read_port   6201                       # Listen port for UDP telemetry inbound - update in docker-compose.yaml!!
VARIABLE rest_endpoint   host.docker.internal:8000/authorize   # Listening endpoint which aranya instance exposes to receive packet

TARGET GATE <%= _target_name %>
INTERFACE <%= _target_name %>_INT udp_interface.rb host.docker.internal <%= cmd_port %> <%= tlm_read_port %>
  MAP_TARGET <%= _target_name %>
  # With protocol write we make sure every outgoing packet goes through dispatcher script waiting for approval
  PROTOCOL WRITE <%= _target_name %>/lib/dispatcher.rb <%= rest_endpoint %>
